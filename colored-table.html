<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
</head>
<body>
<style>
    table {
      border-collapse: collapse;
    }

    td {
      border: 5px solid black;
      padding: 5px;
    }
  </style>
 <script>
function tableCreate(rows, columns){
  function randomInteger(min, max) {
  return Math.floor( min + Math.random() * (max + 1 - min) );
  }
    var body = document.body,
        tbl  = document.createElement('table');
    //tbl.style.borderCollapse  = 'collapse';
    tbl.style.border = '1px solid black';

    for(var i = 0; i < rows; i++){
        var tr = tbl.insertRow();
        for(var j = 0; j < columns; j++){
               var td = tr.insertCell();
                //td.appendChild(document.createTextNode(randomInteger(1, 100)));
                td.textContent = randomInteger(1, 100);
                td.style.border = '1px solid black';
                //td.style.padding = '5px';

        }
    }
    body.appendChild(tbl);
}
tableCreate(20, 20);

var cells = document.getElementsByTagName('td'),
    colorArray = [];
    for (j = 1; j < 30; j++){

            r = Math.round(255*Math.random()).toString(16);
            g = Math.round(255*Math.random()).toString(16);
            b = Math.round(255*Math.random()).toString(16);
            color = r + g + b;

            colorArray.push(color);
        }


for(var i = 0; i < cells.length; i++) {
    cells[i].style.backgroundColor = '#' + colorArray[Math.floor(Math.random() * colorArray.length)];
}


</script>
</body>
</html>
